#include<bits/stdc++.h>
using namespace std;
int a[10];
class AvoidRoads
{
   public:
       	long long numWays(int width, int height,vector<string> bad)
       	{

      long long answer_array[102][102];
      short block[103][103][2];
      int a[4];
      int n=bad.size();
 for(int k=0;k<n;k++)
 {
      a[0]=a[1]=a[2]=a[3]=0;
     string z=bad[k];
     int s=z.length();
     int j=0;
    for(int i=0;i<s;i++)
    {
        char c=z[i];
        if(c==' ')
        j++;
        else a[j]=a[j]*10+(c-'0');
    }
    if((a[0]-a[2])==0) //up 1,same width
    {
        if(a[1]>a[3])
            block[a[2]][a[3]][1]=1;
        else block[a[0]][a[1]][1]=1;
    }
    else  // left,same height
    {
        if(a[0]>a[2])
            block[a[2]][a[3]][0]=1;
        else
            block[a[0]][a[1]][0]=1;
    }

 }

    answer_array[0][0]=1;
    for(int i=0;i<=width;i++)
    {
        for(int j=0;j<=height;j++)
        {
            if(i-1>=0 && block[i-1][j][0]==0)
              answer_array[i][j]=answer_array[i-1][j];
            if(j-1>=0 && block[i][j-1][1]==0)
                answer_array[i][j]+=answer_array[i][j-1];
        }
    }
    return answer_array[width][height];
       	}

};
